import bboxPolygon from '@turf/bbox-polygon';
import booleanContains from '@turf/boolean-contains';
import { LatLngBounds } from 'leaflet';

export function isBigSlovakia(b: LatLngBounds) {
  const isBigSk = booleanContains(
    {
      type: 'Feature',
      properties: {},
      geometry: {
        type: 'Polygon',
        coordinates: [
          [
            [14.30418823243, 51.20689027791],
            [15.68297241211, 51.25160834454],
            [16.46850036621, 51.05175781779],
            [17.18261169434, 50.76078820747],
            [17.55614685059, 50.47499040872],
            [18.60555733862, 49.99140891338],
            [20.82457946777, 50.03950536566],
            [21.22008728027, 50.14522978994],
            [22.56813858032, 50.09154330568],
            [26.10350463867, 47.92003087261],
            [24.47203491211, 47.21584453758],
            [23.04175231933, 47.78825560389],
            [22.35716674804, 47.55429411586],
            [21.34643005371, 46.23685638094],
            [20.9622356701, 46.07893929406],
            [19.64354370117, 46.05036860041],
            [18.49546142578, 45.6563032844],
            [17.73192810059, 45.72919489581],
            [17.27598999023, 45.8976621802],
            [16.02354858398, 46.67960200311],
            [12.70568572998, 48.94595694506],
            [11.88863370895, 49.81727481598],
            [11.8762097168, 50.37350315117],
            [13.1890814209, 50.87531460844],
            [14.30418823243, 51.20689027791],
          ],
        ],
      },
    },
    bboxPolygon([b.getWest(), b.getSouth(), b.getEast(), b.getNorth()]),
  );

  return isBigSk
    ? { overpassUrl: 'https://overpass.freemap.sk/api/interpreter', isBigSk }
    : { overpassUrl: '//overpass-api.de/api/interpreter', isBigSk };
}
